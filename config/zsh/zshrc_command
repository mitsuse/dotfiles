function tmux_attach() {
    tmux attach 2>/dev/null
    if [ "$?" -eq 1 ]; then 
        tmux
    fi
}
alias t="tmux_attach"

function cd_ghq() {
    local selected_path=$(ghq list -p | peco --query "$LBUFFER")
    if [ -n "${selected_path}" ]; then
        BUFFER="cd ${selected_path}"
        zle accept-line
    fi
    zle clear-screen
}
zle -N cd_ghq
bindkey '^]' cd_ghq
